{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../square/square.component\";\nfunction BoardComponent_h2_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Player \", ctx_r0.winner, \" won!\");\n  }\n}\nfunction BoardComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Current Player: \", ctx_r2.player, \"\");\n  }\n}\nfunction BoardComponent_app_square_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-square\", 5);\n    i0.ɵɵlistener(\"click\", function BoardComponent_app_square_6_Template_app_square_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.makeMove(i_r5));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const square_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", square_r4);\n  }\n}\nexport class BoardComponent {\n  constructor() {\n    this.squares = [];\n    this.xIsNext = false;\n    this.winner = null;\n  }\n  ngOnInit() {\n    this.newGame();\n    console.log(this.squares);\n  }\n  newGame() {\n    this.squares = new Array(9).fill(null);\n    this.xIsNext = true;\n    this.winner = null;\n  }\n  get player() {\n    return this.xIsNext ? 'X' : 'O';\n  }\n  makeMove(idx) {\n    if (!this.squares[idx] && !this.winner) {\n      this.squares[idx] = this.player;\n      this.xIsNext = !this.xIsNext;\n    }\n    this.winner = this.calculateWinner();\n    console.clear();\n    console.log('winner: ', this.winner);\n    console.log(this.squares.slice(0, 3));\n    console.log(this.squares.slice(3, 6));\n    console.log(this.squares.slice(6));\n  }\n  calculateWinner() {\n    const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    for (let i = 0; i < lines.length; ++i) {\n      const [a, b, c] = lines[i];\n      if (this.squares[a] && this.squares[a] === this.squares[b] && this.squares[a] === this.squares[c]) {\n        return this.squares[a];\n      }\n    }\n    return null;\n  }\n}\n_class = BoardComponent;\n_class.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-board\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"playerWon\", \"\"], [\"nbButton\", \"\", \"outline\", \"\", \"status\", \"danger\", 3, \"click\"], [\"ngClass\", \"board\"], [\"ngClass\", \"square\", 3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"ngClass\", \"square\", 3, \"value\", \"click\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BoardComponent_h2_0_Template, 2, 1, \"h2\", 0);\n      i0.ɵɵtemplate(1, BoardComponent_ng_template_1_Template, 2, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function BoardComponent_Template_button_click_3_listener() {\n        return ctx.newGame();\n      });\n      i0.ɵɵtext(4, \" Start a new game\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"main\", 3);\n      i0.ɵɵtemplate(6, BoardComponent_app_square_6_Template, 1, 1, \"app-square\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.winner)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.squares);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.SquareComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","winner","ctx_r2","player","ɵɵlistener","BoardComponent_app_square_6_Template_app_square_click_0_listener","restoredCtx","ɵɵrestoreView","_r7","i_r5","index","ctx_r6","ɵɵnextContext","ɵɵresetView","makeMove","ɵɵproperty","square_r4","BoardComponent","constructor","squares","xIsNext","ngOnInit","newGame","console","log","Array","fill","idx","calculateWinner","clear","slice","lines","i","length","a","b","c","selectors","decls","vars","consts","template","BoardComponent_Template","rf","ctx","ɵɵtemplate","BoardComponent_h2_0_Template","BoardComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","BoardComponent_Template_button_click_3_listener","BoardComponent_app_square_6_Template","_r1"],"sources":["/home/dw3w43n/Documents/tictactoe-angular/src/app/components/board/board.component.ts","/home/dw3w43n/Documents/tictactoe-angular/src/app/components/board/board.component.html"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.scss'],\n})\nexport class BoardComponent {\n  squares: any[] = [];\n  xIsNext: boolean = false;\n  winner: string | null = null;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.newGame();\n    console.log(this.squares);\n  }\n\n  newGame() {\n    this.squares = new Array(9).fill(null);\n    this.xIsNext = true;\n    this.winner = null;\n  }\n\n  get player() {\n    return this.xIsNext ? 'X' : 'O';\n  }\n\n  makeMove(idx: number): void {\n    if (!this.squares[idx] && !this.winner) {\n      this.squares[idx] = this.player;\n      this.xIsNext = !this.xIsNext;\n    }\n    this.winner = this.calculateWinner();\n    console.clear();\n    console.log('winner: ', this.winner);\n    console.log(this.squares.slice(0, 3));\n    console.log(this.squares.slice(3, 6));\n    console.log(this.squares.slice(6));\n  }\n\n  calculateWinner(): string | null {\n    const lines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6],\n    ];\n    for (let i = 0; i < lines.length; ++i) {\n      const [a, b, c] = lines[i];\n      if (\n        this.squares[a] &&\n        this.squares[a] === this.squares[b] &&\n        this.squares[a] === this.squares[c]\n      ) {\n        return this.squares[a];\n      }\n    }\n    return null;\n  }\n}\n","<h2 *ngIf=\"winner; else playerWon\">Player {{ winner }} won!</h2>\n<ng-template #playerWon>\n  <h1>Current Player: {{ player }}</h1>\n</ng-template>\n<button nbButton outline status=\"danger\" (click)=\"newGame()\">\n  Start a new game\n</button>\n\n<main ngClass=\"board\">\n  <app-square\n    *ngFor=\"let square of squares; let i = index\"\n    [value]=\"square\"\n    (click)=\"makeMove(i)\"\n    ngClass=\"square\"\n  >\n  </app-square>\n</main>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}